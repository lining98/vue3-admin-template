import{d as k,u as C,r as p,a as I,c as S,b as e,w as t,e as r,o as B,f as m,g as F,l as b,h as H,i as P,j as R,E as f,p as T,k as j,m as g,_ as q}from"./index-a15cff6e.js";import{g as L}from"./time-e894181e.js";const v=l=>(T("data-v-e54689e5"),l=l(),j(),l),$={class:"login_container"},z=v(()=>g("h1",null,"Hello",-1)),A=v(()=>g("h2",null,"欢迎来到规格甄选",-1)),D=k({__name:"index",setup(l){const{userLogin:w}=C(),x=P(),h=R(),c=p(),i=p(!1),a=I({username:"admin",password:"atguigu123"}),y=async()=>{await c.value.validate(),i.value=!0;try{await w(a);let n=x.query.redirect;h.push({path:n||"/"}),f({type:"success",message:"欢迎回来",title:`Hi,${L()}好`}),i.value=!1}catch(n){i.value=!1,f.error(n.message)}},V={username:[{validator:(n,o,s)=>{o.length>=5?s():s(new Error("账号长度至少5位"))},trigger:"change"}],password:[{validator:(n,o,s)=>{o.length>=6?s():s(new Error("密码长度至少6位"))},trigger:"change"}]};return(n,o)=>{const s=r("el-col"),_=r("el-input"),d=r("el-form-item"),N=r("el-button"),E=r("el-form"),U=r("el-row");return B(),S("div",$,[e(U,null,{default:t(()=>[e(s,{span:12,xs:0}),e(s,{span:12,xs:24},{default:t(()=>[e(E,{class:"login_form",model:a,rules:V,ref_key:"loginForms",ref:c},{default:t(()=>[z,A,e(d,{prop:"username"},{default:t(()=>[e(_,{"prefix-icon":m(F),modelValue:a.username,"onUpdate:modelValue":o[0]||(o[0]=u=>a.username=u)},null,8,["prefix-icon","modelValue"])]),_:1}),e(d,{prop:"password"},{default:t(()=>[e(_,{"prefix-icon":m(b),type:"password",modelValue:a.password,"onUpdate:modelValue":o[1]||(o[1]=u=>a.password=u),"show-password":""},null,8,["prefix-icon","modelValue"])]),_:1}),e(d,null,{default:t(()=>[e(N,{loading:i.value,class:"login_btn",type:"primary",onClick:y},{default:t(()=>[H("登录")]),_:1},8,["loading"])]),_:1})]),_:1},8,["model"])]),_:1})]),_:1})])}}});const O=q(D,[["__scopeId","data-v-e54689e5"]]);export{O as default};
